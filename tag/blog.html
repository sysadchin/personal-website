<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8" />
        <title>The Personal Website of Andrew Glenn - blog</title>
        <link rel="stylesheet" href="../theme/css/main.css" />

        <!--[if IE]>
            <script src="https://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="../">The Personal Website of Andrew Glenn </a></h1>
                <nav><ul>
                    <li><a href="../category/server-stuff.html">Server Stuff</a></li>
                </ul></nav>
        </header><!-- /#banner -->

            <aside id="featured" class="body">
                <article>
                    <h1 class="entry-title"><a href="../you-did-what-with-what.html">You did what?! With WHAT?!</a></h1>
<footer class="post-info">
        <abbr class="published" title="2016-02-17T12:00:00-06:00">
                Published: Wed 17 February 2016
        </abbr>
		<br />
        <abbr class="modified" title="2016-02-17T12:00:00-06:00">
                Updated: Wed 17 February 2016
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="../author/andrew-glenn.html">Andrew Glenn</a>
        </address>
<p>In <a href="../category/server-stuff.html">Server Stuff</a>.</p>
<p>tags: <a href="../tag/blog.html">blog</a> <a href="../tag/infrastructure.html">infrastructure</a> </p>
</footer><!-- /.post-info --><p>The primary reason this domain was empty for quite some time was due to hardware failure. I've been workingto bring the hardware back online. In the interim, though, I've asked friends to help me out. </p>
<p>As a result, I'm trying to be A Nice Guy'&#174;'. I've decided to create a static HTML site for my content. Although, I've been using static HTML for several years now, in one form or another. </p>
<h2>The Implementation</h2>
<p>I've decided on <a href="http://docs.getpelican.com/en/3.6.3/">pelican</a> as a framework. It's very nice and processes things the way I'd expect. With that said though, I still ran into an issue with updating the site. I really don't want to remotely access the server every time I want to publish new content. </p>
<p>So.. what do I do? I apply liberal amount of DevOps'&174;', of course! Here's how content gets from me to you:</p>
<p><em>I create a post in markdown format and have pelican generate the appropraite HTML
</em>I push the content to <a href="https://github.com/sysadchin/personal-website">this github repository</a>. 
<em>A <a href="http://smarden.org/runit/">runit service</a> checks the github repository and pulls down any changes. 
</em>Content is presented!</p>
<h2>The code!</h2>
<p>The runit service is nothing more than a for-loop. Here's the runit-invoked script. </p>
<p>:::bash</p>
<h1>/tmp/gitsync.sh</h1>
<p>PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games
while true; do 
        cd /var/www/vhosts/andrewglenn.net/
        git pull origin
        sleep 5m
done</p>
<p>Installing the service is nothing more than this...</p>
<p>:::bash
mkdir -p /etc/service/gitsync
echo -e '#!/bin/bash\n/tmp/gitsync.sh' &gt;&gt; /etc/service/gitsync/run
chmod +x /etc/service/gitsync/run 
sv up gitsync</p>
<p>...and bam! Sync'd content!</p>
<p>// -AG</p>                </article>
            </aside><!-- /#featured -->
                <section id="content" class="body">
                    <h1>Other articles</h1>
                    <hr />
                    <ol id="posts-list" class="hfeed">

            <li><article class="hentry">
                <header>
                    <h1><a href="../it-lives-again.html" rel="bookmark"
                           title="Permalink to It lives again!">It lives again!</a></h1>
                </header>

                <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2016-02-17T10:30:00-06:00">
                Published: Wed 17 February 2016
        </abbr>
		<br />
        <abbr class="modified" title="2016-02-17T10:30:00-06:00">
                Updated: Wed 17 February 2016
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="../author/andrew-glenn.html">Andrew Glenn</a>
        </address>
<p>In <a href="../category/server-stuff.html">Server Stuff</a>.</p>
<p>tags: <a href="../tag/blog.html">blog</a> <a href="../tag/infrastructure.html">infrastructure</a> </p>
</footer><!-- /.post-info -->                <p>first post on pelican.</p>
                <a class="readmore" href="../it-lives-again.html">read more</a>
                </div><!-- /.entry-content -->
            </article></li>
                </ol><!-- /#posts-list -->
                </section><!-- /#content -->
        <section id="extras" class="body">
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>